= Java 8 Lambda Expressions
Michael Gfeller <mgf@computas.com>
2016-11-16
:source-highlighter: coderay
:revnumber: {project-version}
ifndef::imagesdir[:imagesdir: images]
ifndef::sourcedir[:sourcedir: ../../main/java]

== Syntax

A lambda expression is composed of three parts:

|===
|Argument List|Arrow Token|Body

|(int x, int y)|->|x + y

|===

The body can be a _single expression_ or a _statement block_. 

=== Single Expressions

In the expression form, the body is simply evaluated and returned. 

[source,java]
----
() -> 66
(x,y) -> x + y
(Integer x, Integer y) -> x*y
(x) -> x > 0
----

=== Statement Blocks

In the block form, the body is evaluated like a method body and a return statement returns control to the caller of the anonymous method.

[source,java]
----
(String s) -> { System.out.println(s); } // returns nothing
(String s) -> { 
                 String b = s.toLowerCase(); 
                 System.out.println(b);
                 return b; // returns the lower case string
              }
----

== Functional Interface

* A _functional interface_ defines exactly one abstract method.
* Its signature is called _function descriptor_.
* Lambda expressions can provide _inline_ implementations of functional interfaces.
* Use @FunctionalInterface to indicate the intented use as functional interface, and compile time error checking for this.

=== Functional interfaces in Java 8  

|===
|Functional Interface|Function descriptor

|Predicate<T>        | T -> boolean
|Consumer<T>         | T -> void
|Supplier<T>         | () -> T
|Function<T,R>       | T -> R
//|UnaryOperator<T>    | T -> T

|===

=== More functional interfaces in Java

|===
|Functional Interface|Function descriptor

|Comparator<T>       | (T, T) -> int
|Runnable            | () -> void
|Callable<T>         | () -> T
|FileFilter          | File -> boolean

|===

=== Only _one_ abstract method

[.thumb]
image::functional-interface-comparator-big.jpg[]

Default methods (e.g. _reversed()_) and methods inherited from Object (e.g. _equals_) do not count.